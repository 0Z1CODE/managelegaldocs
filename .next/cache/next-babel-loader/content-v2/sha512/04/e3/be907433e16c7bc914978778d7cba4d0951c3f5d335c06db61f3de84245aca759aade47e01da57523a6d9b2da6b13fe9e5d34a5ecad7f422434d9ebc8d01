{"ast":null,"code":"const _axios = require(\"axios\");\n\nconst axiosRetry = require(\"axios-retry\");\n\nconst axios = _axios.create();\n\nlet IP = null;\n\nconst GetIp = async () => {\n  if (IP === null) {\n    const response = await fetch('https://geolocation-db.com/json/', {\n      method: \"GET\",\n      mode: 'cors'\n    }).then(r => r.json()).catch(e => e.json);\n    IP = response.IPv4;\n  }\n\n  return IP;\n};\n\nconst retryDelay = (retryNumber = 0) => {\n  const seconds = Math.pow(2, retryNumber) * 1000;\n  const randomMs = 1000 * Math.random();\n  return seconds + randomMs;\n};\n\naxiosRetry(axios, {\n  retries: 3,\n  retryDelay,\n  retryCondition: axiosRetry.isRetryableError\n});\n\n(async () => {\n  axios.defaults.baseURL = \"http://77.122.140.19/\";\n  axios.defaults.headers.post['User_IP'] = await GetIp();\n})();\n\nexport default axios;","map":null,"metadata":{},"sourceType":"module"}